<?xml version="1.0"?>
<rss version="2.0">
    <channel>
        <title>夜殿下的博客 • Posts by &#34;个人经验&#34; tag</title>
        <link>http://example.com</link>
        <description></description>
        <language>zh-CN</language>
        <pubDate>Sun, 20 Feb 2022 22:55:41 +0800</pubDate>
        <lastBuildDate>Sun, 20 Feb 2022 22:55:41 +0800</lastBuildDate>
        <category>个人经验</category>
        <category>乱七八糟</category>
        <category>学习小结</category>
        <category>less 1</category>
        <category>个人感慨</category>
        <category>知识小结</category>
        <item>
            <guid isPermalink="true">http://example.com/2022/02/20/upload-labs%E9%9D%B6%E5%9C%BAless1/</guid>
            <title>upload-labs靶场less1</title>
            <link>http://example.com/2022/02/20/upload-labs%E9%9D%B6%E5%9C%BAless1/</link>
            <category>个人经验</category>
            <pubDate>Sun, 20 Feb 2022 22:55:41 +0800</pubDate>
            <description><![CDATA[ &lt;p&gt;由于网站限制了文件上传的格式，可试着将一句话木马写入图片中，进行上传&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://sm.ms/image/gWmpVNHrcuSKbaY&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2022/02/21/gWmpVNHrcuSKbaY.png&#34; &gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;再使用 bp 进行抓包修改文件的后缀名为 php&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://sm.ms/image/I3d1qNOiYyGT4F8&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2022/02/21/I3d1qNOiYyGT4F8.png&#34; &gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;最后使用中国菜刀进行切入&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://sm.ms/image/Iy74LguBloREKrY&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2022/02/21/Iy74LguBloREKrY.png&#34; &gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;实现绕过 js 前端检测的效果&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://sm.ms/image/I3d1qNOiYyGT4F8&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2022/02/21/I3d1qNOiYyGT4F8.png&#34; &gt;&lt;/a&gt;&lt;/p&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">http://example.com/2022/02/15/%E5%A0%86%E5%8F%A0%E6%B3%A8%E5%85%A5/</guid>
            <title>堆叠注入</title>
            <link>http://example.com/2022/02/15/%E5%A0%86%E5%8F%A0%E6%B3%A8%E5%85%A5/</link>
            <category>个人经验</category>
            <pubDate>Tue, 15 Feb 2022 19:07:46 +0800</pubDate>
            <description><![CDATA[ &lt;p&gt;可在一句完整的话用；结束后，再续上一段 sql 语句，再以分号结尾。&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://sm.ms/image/FevdIiWDgJtKrwA&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2022/02/18/FevdIiWDgJtKrwA.png&#34; &gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://sm.ms/image/qyAkmHbPW673cex&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2022/02/18/qyAkmHbPW673cex.png&#34; &gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;实现注入操作（可用于传输木马）&lt;/p&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">http://example.com/2022/02/15/%E5%AE%BD%E5%AD%97%E8%8A%82%E6%B3%A8%E5%85%A5/</guid>
            <title>宽字节注入</title>
            <link>http://example.com/2022/02/15/%E5%AE%BD%E5%AD%97%E8%8A%82%E6%B3%A8%E5%85%A5/</link>
            <category>个人经验</category>
            <pubDate>Tue, 15 Feb 2022 17:23:24 +0800</pubDate>
            <description><![CDATA[ &lt;p&gt;Less 32：&lt;/p&gt;
&lt;p&gt;进入 32 关，输入？id=1 查询信息，当试用引号进行注入时，会发现，~ ’ ~ 被进行了转义处理。&lt;/p&gt;
&lt;p&gt;此时可将 ’ 转为 url 编码 %27 进行注入操作。&lt;/p&gt;
&lt;p&gt;两个字节相连组成，会形成一个汉字&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://sm.ms/image/J4QEXxcliwNseV7&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2022/02/15/J4QEXxcliwNseV7.png&#34; &gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;此时可使用 % aa%5c%27 进行宽字节注入操作&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://sm.ms/image/3cKFQ7JVpk6OWwj&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2022/02/15/3cKFQ7JVpk6OWwj.png&#34; &gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;之后的操作与之前类似，值得注意的是，由于 ’ 会被转义，所以用’’ 包裹的内容，得用 16 进制进行转化&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://sm.ms/image/d3Om7HjADxJUwTe&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2022/02/15/d3Om7HjADxJUwTe.png&#34; &gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;之后的 less 33 与 32 类似&lt;/p&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">http://example.com/2022/02/12/%E5%85%B3%E4%BA%8E%E8%BF%87%E6%BB%A4%E7%89%B9%E5%AE%9A%E5%AD%97%E7%AC%A6%E7%9A%84%E6%B3%A8%E5%85%A5/</guid>
            <title>关于过滤特定字符的注入</title>
            <link>http://example.com/2022/02/12/%E5%85%B3%E4%BA%8E%E8%BF%87%E6%BB%A4%E7%89%B9%E5%AE%9A%E5%AD%97%E7%AC%A6%E7%9A%84%E6%B3%A8%E5%85%A5/</link>
            <category>个人经验</category>
            <pubDate>Sat, 12 Feb 2022 23:59:55 +0800</pubDate>
            <description><![CDATA[ &lt;p&gt;&lt;strong&gt;Less 23：过滤了注释符–+ 和 #，此处可使用未被注释的；%00 进行注释或用单引号闭合方式绕过&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://sm.ms/image/y3CIgadEKZw781q&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2022/02/13/y3CIgadEKZw781q.png&#34; &gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://sm.ms/image/F7NSYAqXtCf1jKM&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2022/02/13/F7NSYAqXtCf1jKM.png&#34; &gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Less 25：过滤了 or 和 and&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;经测试可知 or 和 and 被过滤，但注释符–+ 未被过滤&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://sm.ms/image/ctz8HpLaWYw5oOP&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2022/02/13/ctz8HpLaWYw5oOP.png&#34; &gt;&lt;/a&gt;&lt;a href=&#34;https://sm.ms/image/q69drLWmJNzblDo&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2022/02/13/q69drLWmJNzblDo.png&#34; &gt;&lt;/a&gt;&lt;a href=&#34;https://sm.ms/image/yaNHIxzEQmRoFiB&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2022/02/13/yaNHIxzEQmRoFiB.png&#34; &gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;此处可用双写来绕过注入&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://sm.ms/image/PprJCXj1iMe3voh&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2022/02/13/PprJCXj1iMe3voh.png&#34; &gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;其中注入语句里有 or 的均需双写绕过&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://sm.ms/image/7srAhJ9QTqU8HEN&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2022/02/13/7srAhJ9QTqU8HEN.png&#34; &gt;&lt;/a&gt;&lt;a href=&#34;https://sm.ms/image/vA8lGhSmDMC1ygs&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2022/02/13/vA8lGhSmDMC1ygs.png&#34; &gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;less 26：过滤空格和注释符&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;过滤的空格处，可用（）括住，使用 updatexml 函数进行报错注入&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://sm.ms/image/HujTtepbghsaRcr&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2022/02/13/HujTtepbghsaRcr.png&#34; &gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;less 27：过滤了 union 和 select&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;此处可用混合大小写的方式进行注入&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://sm.ms/image/yIbZzXgLFvhN1DQ&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2022/02/13/yIbZzXgLFvhN1DQ.png&#34; &gt;&lt;/a&gt;&lt;/p&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">http://example.com/2022/02/11/less20-22%E5%85%B3%E4%BA%8Ecookie%E7%9A%84%E6%B3%A8%E5%85%A5/</guid>
            <title>less20~22关于cookie的注入</title>
            <link>http://example.com/2022/02/11/less20-22%E5%85%B3%E4%BA%8Ecookie%E7%9A%84%E6%B3%A8%E5%85%A5/</link>
            <category>个人经验</category>
            <pubDate>Fri, 11 Feb 2022 10:34:44 +0800</pubDate>
            <description><![CDATA[ &lt;p&gt;&lt;strong&gt;Less 20：&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;进入 less 20，输入账户密码登入，得到一大堆信息：&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://sm.ms/image/nBb5lkW8TuGYsmD&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2022/02/11/nBb5lkW8TuGYsmD.png&#34; &gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;其中 cookie 的字样最大，可猜测其为本关注入点，抓包后验证，可知 cookie 为注入点&lt;a href=&#34;https://sm.ms/image/njFVTI4ayi2O7YU&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2022/02/11/njFVTI4ayi2O7YU.png&#34; &gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://sm.ms/image/w79X1hudtVCrcSY&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2022/02/11/w79X1hudtVCrcSY.png&#34; &gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;之后使用 order by 查看列数&lt;a href=&#34;https://sm.ms/image/nDhMzWN9QVy4rS8&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2022/02/11/nDhMzWN9QVy4rS8.png&#34; &gt;&lt;/a&gt;&lt;a href=&#34;https://sm.ms/image/4Rgu2r3YIwOD9hX&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2022/02/11/4Rgu2r3YIwOD9hX.png&#34; &gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;可知共有三列，之后再用联合查询得知数据&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://sm.ms/image/T7NclHBPA1b84ow&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2022/02/11/T7NclHBPA1b84ow.png&#34; &gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://sm.ms/image/T7NclHBPA1b84ow&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2022/02/11/T7NclHBPA1b84ow.png&#34; &gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://sm.ms/image/RsFSvqLilHzD7VN&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2022/02/11/RsFSvqLilHzD7VN.png&#34; &gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Less21~22：&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;通过 cookie 后的数据可猜测，此处密码用了 base64 进行加密处理，只需将注入语句改用 base64 进行加密，再输入即可：&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://sm.ms/image/EkLZIUom18O6SAj&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2022/02/11/EkLZIUom18O6SAj.png&#34; &gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://sm.ms/image/nw3opZfjXDyWtSO&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2022/02/11/nw3opZfjXDyWtSO.png&#34; &gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://sm.ms/image/EYuo1bt7y3krmDh&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2022/02/11/EYuo1bt7y3krmDh.png&#34; &gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://sm.ms/image/rIhTEU391dKZBDf&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2022/02/11/rIhTEU391dKZBDf.png&#34; &gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;其中 less 21 为 &#39;) 的 sql 错误类型&lt;/p&gt;
&lt;p&gt;less 22 为 &amp;quot; 类型的 sql 错误类型&lt;/p&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">http://example.com/2022/02/10/less%2018-19/</guid>
            <title>less18~19</title>
            <link>http://example.com/2022/02/10/less%2018-19/</link>
            <category>个人经验</category>
            <pubDate>Thu, 10 Feb 2022 14:36:38 +0800</pubDate>
            <description><![CDATA[ &lt;p&gt;&lt;strong&gt;Less 18：&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;进入 18 关后，输入用户名和密码，回显 user agent=…………&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://sm.ms/image/N2Ug6SkJb5tMPd3&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2022/02/10/N2Ug6SkJb5tMPd3.png&#34; &gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;再因为在 id 和 passwd 上输入 ‘ 均无回显&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://sm.ms/image/75RLDZY8Td6Iego&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2022/02/10/75RLDZY8Td6Iego.png&#34; &gt;&lt;/a&gt; 可猜测，注入点在 user agent 上，试验之后可证明&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://sm.ms/image/PG9oRMTA4xi2V3d&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2022/02/10/PG9oRMTA4xi2V3d.png&#34; &gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;此处可使用 extractvalue 函数：&lt;/p&gt;
&lt;p&gt;**extractvalue 函数使用：**extractvalue (1,concat (0x7e,(构造语句),0x7e))&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://sm.ms/image/K2ewRiSuLzDvcJd&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2022/02/10/K2ewRiSuLzDvcJd.png&#34; &gt;&lt;/a&gt;（此处需注意单引号的闭合）&lt;/p&gt;
&lt;p&gt;之后和之前一样进行查库查表的操作&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://sm.ms/image/4pKriclkov1zJVx&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2022/02/10/4pKriclkov1zJVx.png&#34; &gt;&lt;/a&gt;&lt;a href=&#34;https://sm.ms/image/yAs5tYT9VP2Zirv&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2022/02/10/yAs5tYT9VP2Zirv.png&#34; &gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Less 19：&lt;/p&gt;
&lt;p&gt;与 18 关相似，唯一不同的是，18 关的注入点在 user agent，而 19 关的注入点在 referer 上&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://sm.ms/image/Q7SOqTNaFcWPix8&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2022/02/10/Q7SOqTNaFcWPix8.png&#34; &gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;再次使用 extractvalue 函数：&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://sm.ms/image/P3KLjinXrhZa9cH&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2022/02/10/P3KLjinXrhZa9cH.png&#34; &gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://sm.ms/image/ZwuvsWO4BIYrzFq&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2022/02/10/ZwuvsWO4BIYrzFq.png&#34; &gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;之后的操作类似&lt;/p&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">http://example.com/2022/02/09/less17/</guid>
            <title>less17</title>
            <link>http://example.com/2022/02/09/less17/</link>
            <category>个人经验</category>
            <pubDate>Wed, 09 Feb 2022 18:09:50 +0800</pubDate>
            <description><![CDATA[ &lt;p&gt;进入页面时，有提示 PASSWORD RESET，可判断从密码输入入手。输入已知用户名（正常情况需先得到正确的用户名才可进行以下后续操作），得到密码成功重置的信息。&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://sm.ms/image/cwq2gIFM1APyna7&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2022/02/09/cwq2gIFM1APyna7.png&#34; &gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;此处会使用到 updatexl 函数&lt;/p&gt;
&lt;p&gt;**updatexml 函数使用：**updatexml (1,concat (0x7e,(构造语句),0x7e),1)&lt;/p&gt;
&lt;p&gt;其中 “构造语句” 为查库查表查列查字段的指令&lt;/p&gt;
&lt;p&gt;concat 是：将所回显语句连接成一个字符串（因此回显会出现 error 报错字样，后面则是想要的信息）&lt;/p&gt;
&lt;p&gt;可用 bp 抓包后，进行预览操作：&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://sm.ms/image/PdXrA4k5S6GnLRp&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2022/02/09/PdXrA4k5S6GnLRp.png&#34; &gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://sm.ms/image/2fjI43kit1LNMTJ&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2022/02/09/2fjI43kit1LNMTJ.png&#34; &gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://sm.ms/image/QaA4XCNOhclq6g1&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2022/02/09/QaA4XCNOhclq6g1.png&#34; &gt;&lt;/a&gt;&lt;/p&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">http://example.com/2022/02/08/%E5%9F%BA%E4%BA%8EPOST%E7%B1%BB%E5%9E%8B%E7%9A%84sql%E6%B3%A8%E5%85%A5/</guid>
            <title>基于POST类型的sql注入</title>
            <link>http://example.com/2022/02/08/%E5%9F%BA%E4%BA%8EPOST%E7%B1%BB%E5%9E%8B%E7%9A%84sql%E6%B3%A8%E5%85%A5/</link>
            <category>个人经验</category>
            <pubDate>Tue, 08 Feb 2022 22:49:41 +0800</pubDate>
            <description><![CDATA[ &lt;p&gt;&lt;strong&gt;POST 与 get 的区别：&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;POST 体现在提交数据上，而 get 体现于数据获取上&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;less 11 基于 POST 的单引号 sql 注入&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;首先用 bp 对 POST 数据进行抓包得到 post 码&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://sm.ms/image/7AgksHTzERBlaOv&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2022/02/08/7AgksHTzERBlaOv.png&#34; &gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;之后可在最后的 post 码上进行数据的 sql 注入的操作&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://sm.ms/image/FyqelUTx1PENStX&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2022/02/08/FyqelUTx1PENStX.png&#34; &gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;由于在 hackbar 上使用 post data 操作无反应（还未清楚原因）&lt;/p&gt;
&lt;p&gt;此处用 bp 上的预览图操作&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://sm.ms/image/UR41v2SDBkrdXKN&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2022/02/08/UR41v2SDBkrdXKN.png&#34; &gt;&lt;/a&gt; 当使用 order by 3 时，出现报错，可说明表仅有俩行。（union select 1，……）&lt;/p&gt;
&lt;p&gt;之后于 less 1 相似，以查库查表查字段的方式，依次查出内容即可&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://sm.ms/image/MhzQgFImybk5RYj&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2022/02/08/MhzQgFImybk5RYj.png&#34; &gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;less 12~13 则是基于不同引号类型的 post sql 注入，步骤与 less11 相似&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;此处总结一下不同引号类型的 sql 注入：&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;’&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&amp;quot;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;’)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&amp;quot;)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;’))&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&amp;quot;))&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;引号注入类型共有以上六种，做题手动操作时，只需依次列举输入即可。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;less 14~16 基于 POST 类型的盲注输入：&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;在进行 less 15 时会发现，当输入正确，则仅有登入成功的提示，并无回显数据，而输入错误也只有登入失败的提示，可判断此处为盲注。&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://sm.ms/image/d2t9GaLU4567A3o&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2022/02/08/d2t9GaLU4567A3o.png&#34; &gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://sm.ms/image/6V7MxsQ4ovqzcE8&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2022/02/08/6V7MxsQ4ovqzcE8.png&#34; &gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;此处可用 if 语句配合 sleep 函数来判断正误&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://sm.ms/image/WAlMRuCFIaJqNH5&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2022/02/08/WAlMRuCFIaJqNH5.png&#34; &gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;当发现数据加载比之前更慢，可判断是 sleep 函数的延时效用。&lt;/p&gt;
&lt;p&gt;也可通过正误回显判断&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://sm.ms/image/3OrU1jJq9swEYTQ&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2022/02/08/3OrU1jJq9swEYTQ.png&#34; &gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;也可用 bp 进行暴力破解&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://sm.ms/image/Gis82KyODcw1Z9P&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2022/02/08/Gis82KyODcw1Z9P.png&#34; &gt;&lt;/a&gt;&lt;/p&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">http://example.com/2022/01/27/%E5%B8%83%E5%B0%94%E7%9B%B2%E6%B3%A8%E5%92%8C%E6%97%B6%E9%97%B4%E7%9B%B2%E6%B3%A8%E7%9A%84%E7%AE%80%E6%98%93%E6%89%8B%E5%8A%A8%E6%93%8D%E4%BD%9C/</guid>
            <title>布尔盲注和时间盲注的简易手动操作</title>
            <link>http://example.com/2022/01/27/%E5%B8%83%E5%B0%94%E7%9B%B2%E6%B3%A8%E5%92%8C%E6%97%B6%E9%97%B4%E7%9B%B2%E6%B3%A8%E7%9A%84%E7%AE%80%E6%98%93%E6%89%8B%E5%8A%A8%E6%93%8D%E4%BD%9C/</link>
            <category>个人经验</category>
            <pubDate>Thu, 27 Jan 2022 05:03:11 +0800</pubDate>
            <description><![CDATA[ &lt;p&gt;在 less 5 这关时，会发现按照之前的方法输入？id=1’–+，他并不会给你想要的信息，而是会回显 you are in&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://sm.ms/image/fBMIk3NUyjdrwtF&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2022/01/21/fBMIk3NUyjdrwtF.png&#34; &gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;可以判断，该处注入方式为布尔盲注（即只有正确了只回显 you are in）&lt;/p&gt;
&lt;p&gt;此处可以用 length (database ())=? 来推出 database 数据库的库名有几个字符长度&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://sm.ms/image/nQZ5XT8pDf1bA34&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2022/01/21/nQZ5XT8pDf1bA34.png&#34; &gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;而后可根据二分法 ascii (substr (database ()))=?（&amp;gt;? 或 &amp;lt;?）来推断库名&lt;/p&gt;
&lt;p&gt;&lt;em&gt;PS. 其中 substr 括号内是数据库查找方式，也可以是查表查列查字段，详见 less1&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://sm.ms/image/VTzI9HZwkAKmhC8&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2022/01/21/VTzI9HZwkAKmhC8.png&#34; &gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;less 6 是基于 less 5 的基础上，由单引号闭合改为了双引号闭合&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://sm.ms/image/HDB7CnPb3hZXp8V&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2022/01/21/HDB7CnPb3hZXp8V.png&#34; &gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;if 函数使用&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;if (条件，正确回显，错误回显)&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://sm.ms/image/5v2WN1z6pKdkfbX&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2022/01/27/5v2WN1z6pKdkfbX.png&#34; &gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;sleep 睡眠使用&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://sm.ms/image/vPkOWYBQ35XRnAw&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2022/01/27/vPkOWYBQ35XRnAw.png&#34; &gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;如图可知，程序运行（睡眠）了 5s。&lt;/p&gt;
&lt;p&gt;之后的第八关和第九关、第十关，均可用 if 和 sleep 来手动操作（区别就是 id=1 后的闭合符合不同，详见第 less 1~4。&lt;/p&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">http://example.com/2022/01/25/%E6%96%87%E4%BB%B6%E4%BC%A0%E8%BE%93%E4%BB%A5%E5%8F%8A%E4%B8%80%E5%8F%A5%E8%AF%9D%E6%9C%A8%E9%A9%AC%E7%9A%84%E5%B0%8F%E8%A7%81%E8%A7%A3/</guid>
            <title>文件传输以及一句话木马的小见解</title>
            <link>http://example.com/2022/01/25/%E6%96%87%E4%BB%B6%E4%BC%A0%E8%BE%93%E4%BB%A5%E5%8F%8A%E4%B8%80%E5%8F%A5%E8%AF%9D%E6%9C%A8%E9%A9%AC%E7%9A%84%E5%B0%8F%E8%A7%81%E8%A7%A3/</link>
            <category>个人经验</category>
            <pubDate>Tue, 25 Jan 2022 23:22:12 +0800</pubDate>
            <description><![CDATA[ &lt;p&gt;&lt;strong&gt;一句话木马的总结：&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;php 型：&amp;lt;？php @eval ($_POST [‘ydx’]);？&amp;gt;&lt;/p&gt;
&lt;p&gt;asp 型：&amp;lt;% eval request (“ydx”)%&amp;gt;&lt;/p&gt;
&lt;p&gt;aspx 型：&amp;lt;%@ page Language=“Jscript”%&amp;gt; &amp;lt;% eval (Request.Item [“ydx”],“unsafe”);%&amp;gt;&lt;/p&gt;
&lt;p&gt;其中 ydx 为密码，即可在中国菜刀中输入使用&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://sm.ms/image/sXaGIPkK9FfTbQJ&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2022/01/26/sXaGIPkK9FfTbQJ.png&#34; &gt;&lt;/a&gt; eval（）为函数，括号内即要执行的代码&lt;/p&gt;
&lt;p&gt;@表示不报错，即就算执行错误，也不报错&lt;/p&gt;
&lt;p&gt;传输数据的两种方法：get、post&lt;/p&gt;
&lt;p&gt;其中 get 是在信息头的 url 路径下中存放数据&lt;/p&gt;
&lt;p&gt;而 post 是在消息体中存放数据&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;图片木马的生成&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://sm.ms/image/287otRTsdCibGQa&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2022/01/27/287otRTsdCibGQa.png&#34; &gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;其中 b 表示二进制文件（+ 后即要覆盖进图片的木马）&lt;/p&gt;
&lt;p&gt;a 表示 ASCLL 码文件（a 后即生成的图片木马）&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Less 7&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;先登入进 mysql 命令行，输入 show variables like&#39;secure%&#39; 查看是否开启文件读写权限&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://sm.ms/image/kjva5tUOPKHoAuQ&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2022/01/27/kjva5tUOPKHoAuQ.png&#34; &gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;若为 NULL 即为没有权限，此时需到 mysql 文件夹中，找到对应的 my.ini 文件，在其中加入&lt;a href=&#34;https://sm.ms/image/WivGrl437YkceOC&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2022/01/27/WivGrl437YkceOC.png&#34; &gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;之后重启 mysql 服务（这里并不是关闭运行指令框，而是关闭 mysql 服务再重启，再开指令框）&lt;/p&gt;
&lt;p&gt;可看到 NULL 变成你输入的地址&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://sm.ms/image/yLajvJ9Xh2ZE4fR&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2022/01/27/yLajvJ9Xh2ZE4fR.png&#34; &gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;此时可用上图所示方法使用 select ’‘ into outfile ’‘；函数进行文件的上传&lt;/p&gt;
&lt;p&gt;select 后’ ‘内表示要上传的文件内容，outfile 后’ ‘内表示文件上传的地址，最后是所上传文件的名称和格式（此处用 \ 是因为 \ 容易报错，不推荐使用）&lt;/p&gt;
&lt;p&gt;上传成功之后可以 select load_file 函数查看文件内容&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://sm.ms/image/7BQacsHXRNkfAeo&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2022/01/27/7BQacsHXRNkfAeo.png&#34; &gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;其中 (’  &#39;) 内即文件地址和所要读取的文件名&lt;/p&gt;
&lt;p&gt;在 less 7 中上传文件&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://sm.ms/image/5AQTEOoHUj6L847&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2022/01/27/5AQTEOoHUj6L847.png&#34; &gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;虽然回显说有一个 sql 语法错误，但翻看 Less 7 的目录，会发现文件已传输成功。&lt;/p&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">http://example.com/2021/10/21/%E5%85%B3%E4%BA%8Eless%202%E5%88%B0less%204%E7%9A%84%E5%B0%8F%E6%80%BB%E7%BB%93/</guid>
            <title>关于less 2到lees 4的小总结</title>
            <link>http://example.com/2021/10/21/%E5%85%B3%E4%BA%8Eless%202%E5%88%B0less%204%E7%9A%84%E5%B0%8F%E6%80%BB%E7%BB%93/</link>
            <category>个人经验</category>
            <pubDate>Thu, 21 Oct 2021 16:18:43 +0800</pubDate>
            <description><![CDATA[ &lt;p&gt;&lt;a href=&#34;https://sm.ms/image/3FQCeWsd7aivnBI&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;https://i.loli.net/2021/10/21/3FQCeWsd7aivnBI.jpg&#34; &gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://sm.ms/image/AWe683cGfxhyN9q&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;https://i.loli.net/2021/10/21/AWe683cGfxhyN9q.jpg&#34; &gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;通过对比 less 1 和 less 2，在输入？id=1’时报错信息的不同可以看出 less 1 是 near&amp;quot;1&amp;quot;, 而 less 2 是 near’’。因此在执行指令时，less 2 比 less 1 在 sql 语法报错上少了一个’。&lt;/p&gt;
&lt;p&gt;以查列指令为例：&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://sm.ms/image/eJpKRTFruAvjG9t&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;https://i.loli.net/2021/10/21/eJpKRTFruAvjG9t.png&#34; &gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;同理，在 less 3 的时候报错信息为&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://sm.ms/image/AXgrWo24IseNyqU&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;https://i.loli.net/2021/10/21/AXgrWo24IseNyqU.png&#34; &gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;即需要我们输入？id=1’) 才可成功执行之后的 sql 注入指令&lt;a href=&#34;https://sm.ms/image/1pHMoOJKui3cNmE&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;https://i.loli.net/2021/10/21/1pHMoOJKui3cNmE.png&#34; &gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;less 4&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://sm.ms/image/are9OcdXmiDqTFs&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;https://i.loli.net/2021/10/21/are9OcdXmiDqTFs.png&#34; &gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;显示需输入？id=1&amp;quot; 才可执行后续命令，且需使前面的内容报错，才可执行（有点不理解，因为有时候没报错也可以执行）&lt;a href=&#34;https://sm.ms/image/7HAad3kZfTLYtqM&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;https://i.loli.net/2021/10/21/7HAad3kZfTLYtqM.png&#34; &gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;后续的操作均与 less 1 一样。&lt;/p&gt;
&lt;p&gt;总结：当发现 SQL 语法错误漏洞时，得弄清是什么样的错误漏洞，并根据实际情况进行调整。&lt;/p&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">http://example.com/2021/09/20/%E5%85%B3%E4%BA%8E%E8%87%AA%E5%B7%B1%E7%AC%AC%E4%B8%80%E6%AC%A1%E6%8D%A2%E4%B8%BB%E9%A2%98%E5%92%8C%E5%8F%91%E5%8D%9A%E5%AE%A2%E7%9A%84%E4%B8%80%E4%BA%9B%E7%9C%8B%E6%B3%95/</guid>
            <title>关于自己第一次换主题和发博客的一些看法</title>
            <link>http://example.com/2021/09/20/%E5%85%B3%E4%BA%8E%E8%87%AA%E5%B7%B1%E7%AC%AC%E4%B8%80%E6%AC%A1%E6%8D%A2%E4%B8%BB%E9%A2%98%E5%92%8C%E5%8F%91%E5%8D%9A%E5%AE%A2%E7%9A%84%E4%B8%80%E4%BA%9B%E7%9C%8B%E6%B3%95/</link>
            <category>个人经验</category>
            <pubDate>Mon, 20 Sep 2021 23:03:02 +0800</pubDate>
            <description><![CDATA[ &lt;p&gt;No.1  小白刚开始换主题的时候，不要追求好看（因为好看的主题配置都不大容易）&lt;/p&gt;
&lt;p&gt;No.2  分清下载 theme 文件目录根里的配置文件（_config.yml）和 blog 文件目录根里的配置文件的区别，theme 里的配置文件是弄到时候博客界面里的内容，blog 里的配置文件里是定位 theme 文件（配置文件的 theme: **, 需要改成你下载的主题名）和博客网站的一些东西。&lt;/p&gt;
&lt;p&gt;No.3  博客网站里的东西都在后台的数据库，如果有什么想要换的文字或者图片，可以在 blog 文件里找到相应的进行替换（但是图片的名字和格式不能改，因为改了到时候配置信息也得跟着改，不然无法读取）。&lt;/p&gt;
&lt;p&gt;No.4  想改 blog 文件的时候，可以复制 blog 在其他磁盘先进行测试，测试成功再替换原本的 blog 文件（防止到时候改错乱码，又要补救，改来改去）&lt;/p&gt;
&lt;p&gt;No.5  发博客的时候，记得在 tags: *******(冒号要英文的冒号。不要忘了中间的空格，不然上传不了远台仓库)。&lt;/p&gt;
 ]]></description>
        </item>
    </channel>
</rss>
